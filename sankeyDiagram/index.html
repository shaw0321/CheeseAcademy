<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Top画面</title>

    <!-- bootstrapの記述 -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.88.1">
    <link rel="canonical" href="https://getbootstrap.com/docs/4.6/examples/album/">

    <!-- Bootstrap core CSS -->
    <link href="./assets/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }
      /* .row-scrollable{
        overflow-x: auto !important;
        white-space: nowrap !important;
      }
      .row-scrollable > .col-scrollable {
        display: inline-block !important;
        float: none !important;
      } */
    </style>

    <!-- Custom styles for this template -->
    <link href="./css/album.css" rel="stylesheet">
    <!-- <link href="./css/signin.css" rel="stylesheet"> -->
    <link href="./css/navbar.css" rel="stylesheet">

    <!-- Jqueryのインストール -->
    <script src="./js/jquery-2.1.3.min.js"></script>

  </head>

<body>  
  <header>
    <!-- ナビゲーション -->
    <nav class="navbar navbar-expand-sm navbar-dark bg-dark">
      <a class="navbar-brand" href="./index.html">Sankey Diagram</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExample03" aria-controls="navbarsExample03" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
    
      <div class="collapse navbar-collapse" id="navbarsExample03">
        <ul class="navbar-nav mr-auto" id="navAppend">
          <li class="nav-item active">
            <a class="nav-link" >username<span id="loginname"></span></a>
          </li>
          <!-- <li class="nav-item active">
            <a class="nav-link" id="logoutbtn" >ログアウト</a>
          </li> -->
          <!-- <li class="nav-item">
            <a class="nav-link" href="#">Link</a>
          </li>
          <li class="nav-item">
            <a class="nav-link disabled">Disabled</a>
          </li> -->
          <!-- <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="dropdown03" data-toggle="dropdown" aria-expanded="false">Dropdown</a>
            <div class="dropdown-menu" aria-labelledby="dropdown03">
              <a class="dropdown-item" href="#">Action</a>
              <a class="dropdown-item" href="#">Another action</a>
              <a class="dropdown-item" href="#">Something else here</a>
            </div>
          </li> -->
        </ul>
        <!-- <form class="form-inline my-2 my-md-0">
          <input class="form-control" type="text" placeholder="Search">
        </form> -->
      </div>
    </nav>
    <!-- ナビゲーション終了-->

  </header>

  <main role="main">
    <!-- ジャンボとろん -->
    <section class="jumbotron text-center">
      <div class="container">
        <h1>Sankey Diagram Creater</h1>
        <p class="lead text-muted">
          A sankey diagram is a visualization used to depict a flow from one set of values to another. The things being connected are called nodes and the connections are called links. Sankeys are best used when you want to show a many-to-many mapping between two domains (e.g., universities and majors) or multiple paths through a set of stages (for instance, Google Analytics uses sankeys to show how traffic flows from pages to other pages on your web site).
        </p>
        <!-- <p>
          <a href="#" class="btn btn-primary my-2">Main call to action</a>
          <a href="#" class="btn btn-secondary my-2">Secondary action</a>
        </p> -->
      </div>
    </section>
    <!-- ジャンボとろん終了 -->


    <!-- アルバム -->
    <div class="album py-5 bg-light">
      <div class="container">
        <div class="row">
          自分のエリア
        </div>
        <!-- 自分のRow -->
        <div class="row row-scrollable" id="myDiagramArea">
          <div class="col-md-4">
            <div class="card mb-4 shadow-sm">
               <a  href="./createDiagram.html">

                <!-- <svg class="bd-placeholder-img card-img-top" width="100%" height="225" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: 新規作成" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="#55595c"/><text x="50%" y="50%" fill="#eceeef" dy=".3em">新規作成するばあい</text></svg> -->
                <svg class="bd-placeholder-img card-img-top" width="100%" height="225" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: 新規作成" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="#eceeef"/><text x="50%" y="50%" fill="#55595c" dy=".3em">新規作成する場合はこちらをクリック</text></svg>

               </a>


              <!-- <div class="card-body">
                <p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
                <div class="d-flex justify-content-between align-items-center">
                  <div class="btn-group">
                    <button type="button" class="btn btn-sm btn-outline-secondary" id="viewbtn">View</button>
                    <button type="button" class="btn btn-sm btn-outline-secondary" id="editbtn">Edit</button>
                  </div>
                </div>
              </div> -->
            </div>
          </div>
          
          <div class="col-md-4">
            <div class="card mb-4 shadow-sm">


                <!-- <svg class="bd-placeholder-img card-img-top" width="100%" height="225" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: 新規作成" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="#55595c"/><text x="50%" y="50%" fill="#eceeef" dy=".3em">新規作成するばあい</text></svg> -->
                <svg class="bd-placeholder-img card-img-top" width="100%" height="225" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: 新規作成" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="#55595c"/><text x="50%" y="50%" fill="#eceeef" dy=".3em">自分のダイアグラムはこのエリアに出現</text></svg>




              <!-- <div class="card-body">
                <p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
                <div class="d-flex justify-content-between align-items-center">
                  <div class="btn-group">
                    <button type="button" class="btn btn-sm btn-outline-secondary" id="viewbtn">View</button>
                    <button type="button" class="btn btn-sm btn-outline-secondary" id="editbtn">Edit</button>
                  </div>
                </div>
              </div> -->
            </div>
          </div>


          <!-- 最新版 -->
          <!-- <div class="col-md-4">
            <div class="card mb-4 shadow-sm">
              <svg class="bd-placeholder-img card-img-top" width="100%" height="225" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="#55595c"/><text x="50%" y="50%" fill="#eceeef" dy=".3em">Thumbnail</text></svg>

              <div class="card-body">
                <p class="card-text">Title</p>
                <p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
                <div class="d-flex justify-content-between align-items-center">
                  <div class="btn-group">
                    <button type="button" class="btn btn-sm btn-outline-secondary" id="viewbtn">View</button>
                  </div>
                </div>
              </div>
            </div>
          </div> -->
          <!-- 最新版 -->


          <!-- 初期値を保存 -->
          <!-- <div class="col-md-4">
            <div class="card mb-4 shadow-sm">
              <svg class="bd-placeholder-img card-img-top" width="100%" height="225" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="#55595c"/><text x="50%" y="50%" fill="#eceeef" dy=".3em">Thumbnail</text></svg>

              <div class="card-body">
                <p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
                <div class="d-flex justify-content-between align-items-center">
                  <div class="btn-group">
                    <button type="button" class="btn btn-sm btn-outline-secondary" id="viewbtn">View</button>
                    <button type="button" class="btn btn-sm btn-outline-secondary" id="editbtn">Edit</button>
                  </div>
                </div>
              </div>
            </div>
          </div> -->
          <!-- 初期値を保存 -->


        </div>
        <div class="row border-top ">
          他のユーザーが作成したダイアグラム一覧
        </div>
        <div class="row row-scrollable" id="othersDiagramArea">


          <div class="col-md-4">
            <div class="card mb-4 shadow-sm">
              <svg class="bd-placeholder-img card-img-top" width="100%" height="225" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="#55595c"/><text x="50%" y="50%" fill="#eceeef" dy=".3em">Thumbnail</text></svg>

              <div class="card-body">
                <p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
                <div class="d-flex justify-content-between align-items-center">
                  <div class="btn-group">
                    <button type="button" class="btn btn-sm btn-outline-secondary" id="viewbtn">View</button>
                  </div>
                  <small class="text-muted">9 mins</small>
                </div>
              </div>
            </div>
          </div>


        </div>
      </div>
    </div>
    <!-- アルバム終了 -->




    <!--ログイン・サインインモーダルウィンドウ -->
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
      ログイン・サインイン
    </button>

    <!-- モーダルダイアログ -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>

          <div class="modal-body">
            <section class="container"> 
              <div class="row">
                  <div class="col border-right">
                      <form class="form-signin">
                          <img class="mb-4" src="./assets/brand/bootstrap-solid.svg" alt="" width="72" height="72">
                          <h1 class="h3 mb-3 font-weight-normal">サインイン済みの方はこちらから</h1>
                          <label for="loginUsername" class="sr-only">username</label>
                          <input type="text" id="loginUsername" class="form-control" placeholder="username" >
                          <label for="loginPassword" class="sr-only">Password</label>
                          <input type="text" id="loginPassword" class="form-control" placeholder="Password" >
                          <button class="btn btn-lg btn-primary btn-block"  id="loginbtn">ログイン</button>

                        </form>

                  </div>
                  <div class="col">
                      <form class="form-signin">
                          <img class="mb-4" src="./assets/brand/bootstrap-solid.svg" alt="" width="72" height="72">
                          <h1 class="h3 mb-3 font-weight-normal">サインインはこちらから</h1>
                          <label for="signinUsername" class="sr-only">username</label>
                          <input type="text" id="signinUsername" class="form-control" placeholder="username" >
                          <label for="signinPassword" class="sr-only">Password</label>
                          <input type="text" id="signinPassword" class="form-control" placeholder="Password" >
                          <label for="signinPasswordComfirm" class="sr-only">Password確認</label>
                          <input type="text" id="signinPasswordComfirm" class="form-control" placeholder="Password確認" >
                          <button class="btn btn-lg btn-primary btn-block" type="submit" id="signinbtn">サインイン</button>
                        </form>
                  </div>
              </div>
            </section>
            ...
          </div>

          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>

          </div>
        </div>
      </div>
    </div>


    <!-- モーダルダイアログ終了 -->   
    <!--ログイン・サインインモーダルウィンドウ終了 -->
    

  </main>

  <footer class="text-muted">
    <div class="container">
      <p class="float-right">
        <a href="#">Back to top</a>
      </p>
      <p>Album example is &copy; Bootstrap, but please download and customize it for yourself!</p>
      <p>New to Bootstrap? <a href="/">Visit the homepage</a> or read our <a href="../getting-started/introduction/">getting started guide</a>.</p>
    </div>
  </footer>

  <!-- <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script> -->
  <!-- <script>window.jQuery || document.write('<script src="./assets/js/vendor/jquery.slim.min.js"><\/script>')</script> -->
  <!-- <script src="./assets/dist/js/bootstrap.bundle.min.js"></script> -->


</body>

<script type="module">

  //■ページを読み込んだときの処理を記載する
      // firebaseの記述
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.2/firebase-app.js";
      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries

      import { getDatabase, ref, push, set, onChildAdded, remove, onChildRemoved, onValue }
          from "https://cdnjs.cloudflare.com/ajax/libs/firebase/9.6.2/firebase-database.min.js";

      // Your web app's Firebase configuration
      const firebaseConfig = {
        apiKey: "",
        authDomain: "sankeydiagram-41542.firebaseapp.com",
        databaseURL: "https://sankeydiagram-41542-default-rtdb.firebaseio.com",
        projectId: "sankeydiagram-41542",
        storageBucket: "sankeydiagram-41542.appspot.com",
        messagingSenderId: "124476146008",
        appId: "1:124476146008:web:670bbc5545dc882583a52d"
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      console.log(app);

      const db = getDatabase(app);
      console.log(db);
      
      const dbRefDiagrams = ref(db, "diagrams");
      const dbRefUsers= ref(db, "users");

      // ログイン状態に応じた処理
      // usernameをLSより取得し、ナビに記載
      if(localStorage.getItem("login")){
        let username = localStorage.getItem("login");
        $("#loginname").html("：" + localStorage.getItem("login"));
        console.log(localStorage.getItem("login"));
        // ログアウトボタンをつける
        var append =  `<li class="nav-item active"><a class="nav-link" id="logoutbtn" >ログアウト</a></li>`
        $("#navAppend").append(append);

      }else{
        let username = "test";
        $("#loginname").html("：" + "未ログイン");
      console.log(localStorage.getItem("login"));
        // ログインボタンをつける
        var append =`<li class="nav-item active"><a class="nav-link" data-toggle="modal" data-target="#exampleModal" >ログイン</a></li>`
        $("#navAppend").append(append);

      }


 
        // ダイアグラムサムネイルコレクションを表示する
        onChildAdded(ref(db, "diagrams"), function(data){
 
          // unameが自分だった時の処理
          if(data.val().user == localStorage.getItem("login")){
              // myDiagramAreaに追加する
              createDiagramCollection(data,"myself");
               console.log("自分の");


          // unameが他人だった時の処理
          }else{
              // othersDiagramAreaに追加する
              createDiagramCollection(data,"others");
              console.log("他人の");

          }
        })

      // ログイン・サインイン用、ユーザーリストを取得
        let user_list ={};
        onValue(ref(db, "users"),function(data){
        user_list = data.val();
        console.log(user_list);
        
        });
 
  // ■関数を記載する
    // firebaseからユーザーリストを取得する
    function getUsers(){
        onValue(ref(db, "users"),function(data){
          user_list = data.val();
          console.log(user_list);
         })
        return user_list;
    }

      // 対象のobjectの中に、target_key:target_valueの組み合わせが存在しているか
      // 2階層限定
      function isExist(object,target_key,target_value){
          labelA:
          for(var i = 0; i <1; i++){
              for (var key in object ){
                          // 既に同じIDが存在していた時
                          if(object[key][target_key] == target_value ){ 
                              return true;
                              break labelA;
                          }
                      }
                              return false;
          }
      }
      
      // 対象のobjectの中に、target_key:target_valueの組み合わせが存在しており、PWもあっているとき
      // 2階層限定
      function isMatch(object,target_key,target_value,target_key2,target_value2){
          labelB:
          for(var i = 0; i <1; i++){
              for (var key in object ){
                          // 既に同じIDが存在していた時
                          if(object[key][target_key] == target_value ){ 
      
                              if(object[key][target_key2] == target_value2){
                                  return true;
                                  break labelB;
                                }
                          }
                      }
                              return false;
          }
      }
 


    //ダイアグラムサムネイルを追加する関数
       function createDiagramCollection(data, judge){
        const Diagram=data.val();
 
        // 自分の時
        if(judge == "myself"){
          console.log("自分の領域に書く");


          let mysumnail = 
          `<div class="col-md-4">
            <div class="card mb-4 shadow-sm">
              <svg class="bd-placeholder-img card-img-top" width="100%" height="225" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="#55595c"/><text x="50%" y="50%" fill="#eceeef" dy=".3em">Thumbnail</text></svg>
              <div class="card-body">
                <p class="card-text">${Diagram.title}</p>
                <p class="card-text">${Diagram.explanation}</p>
                <div class="d-flex justify-content-between align-items-center">
                  <div class="btn-group">
                    <button type="button" class="btn btn-sm btn-outline-secondary" id="viewbtn" name=" ${data.key}">View</button>
                  </div>
                </div>
              </div>
            </div>
          </div>`
          // `<div class="row row-scrollable" id="myDiagramArea">
          // <div class="col-md-4">
          //   <div class="card mb-4 shadow-sm">
          //     <svg class="bd-placeholder-img card-img-top" width="100%" height="225" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: ${Diagram.title}" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="#55595c"/><text x="50%" y="50%" fill="#eceeef" dy=".3em">Thumbnail</text></svg>

          //     <div class="card-body">
          //       <p class="card-text">${Diagram.explanation}</p>
          //       <div class="d-flex justify-content-between align-items-center">
          //         <div class="btn-group">
          //           <button type="button" class="btn btn-sm btn-outline-secondary" id="viewbtn" name=" ${data.key}">View</button>
          //         </div>
          //         <small class="text-muted">9 mins</small>
          //       </div>
          //     </div>
          //   </div>
          // </div>`
          $("#myDiagramArea").append(mysumnail);



        // 他人の時
        }else{
          console.log("他人の領域に書く");
          let othersumnail = 
          `<div class="col-md-4">
            <div class="card mb-4 shadow-sm">
              <svg class="bd-placeholder-img card-img-top" width="100%" height="225" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="#55595c"/><text x="50%" y="50%" fill="#eceeef" dy=".3em">Thumbnail</text></svg>
              <div class="card-body">
                <p class="card-text">${Diagram.title}</p>
                <p class="card-text">${Diagram.explanation}</p>
                <div class="d-flex justify-content-between align-items-center">
                  <div class="btn-group">
                    <button type="button" class="btn btn-sm btn-outline-secondary" id="viewbtn" name=" ${data.key}">View</button>
                  </div>
                </div>
              </div>
            </div>
          </div>`
          // ` <div class="col-md-4">
          //   <div class="card mb-4 shadow-sm">
          //     <svg class="bd-placeholder-img card-img-top" width="100%" height="225" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: ${Diagram.title}" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="#55595c"/><text x="50%" y="50%" fill="#eceeef" dy=".3em">Thumbnail</text></svg>

          //     <div class="card-body">
          //       <p class="card-text">${Diagram.explanation}</p>
          //       <div class="d-flex justify-content-between align-items-center">
          //         <div class="btn-group">
          //           <button type="button" class="btn btn-sm btn-outline-secondary" id="viewbtn" name=" ${data.key}">View</button>
          //         </div>
          //         <small class="text-muted">9 mins</small>
          //       </div>
          //     </div>
          //   </div>
          // </div>`

          $("#othersDiagramArea").append(othersumnail);

        }

    } 






  // ■ユーザーの操作に関する処理を記載する

      // $(document).on('click', '#modalbtn', function(){
      //   /* イベント発火時の処理 */
      //   alert("aaa");
      //   // console.log("ログイン");
      // });




      // ログインボタンを押した時の挙動を記載する
      // loginボタンを押したときにLSに当該ID,PWの組み合わせがあるか確認する

      $(document).on("click","#loginbtn", function(){

      let loginUsername =String($("#loginUsername").val());
      let loginPassword =$("#loginPassword").val();

      // 当該IDが存在しない場合、「存在しないIDですと返す」
      if(!isExist(user_list, "username", loginUsername)){
          alert("存在しないIDです");
          console.log(loginUsername);
      }
      // 当該IDが存在するがPWが間違っている場合、「PWが間違っています」と返す
      else if(!isMatch(user_list, "username", loginUsername ,"password", loginPassword)){
        alert("PWが間違っています。");     
      }
      // 当該IDが存在してPWもあっている場合、「ログインします」と返す
      else{
        alert("ログインします。");
        // login中のid名をLSに保存する
        localStorage.setItem("login", loginUsername);

        // モーダルウィンドウを消す

        };
      })


      // サインインボタンを押したときの挙動を記載する
    $(document).on("click","#signinbtn", function(){
        // 少なくとも一つの欄が空欄の場合、空欄の欄がありますと返す
        if($("#signinUsername").val() == "" || $("#signinPassword").val() =="" || $("#signinPasswordComfirm").val() == "" ){
            alert("入力されていない項目があります。")

        // pwのvalueとpw_againのvalueの値が一致しない場合、
        // パスワード欄とパスワード確認欄の値が異なりますと表示する。
        }else if($("#signinPassword").val() !== $("#signinPasswordComfirm").val()){
            alert("パスワード欄とパスワード確認欄の値が異なります");
            console.log($("#signinPassword").val());
            console.log($("#signinPasswordComfirm").val());

        // 入力したidnameが存在する場合、「存在するIDです」と返す
        }else if(isExist(user_list, "username", String($("#signinUsername").val()))){
            alert("存在するIDです、ログインページからログインしてください");

        // 入力したidnameが存在しない場合、「登録します」と返す
        }else{
            alert("登録します"+$("#signinUsername").val()+ $("#signinPassword").val() ); 
            const profile= {
                        username: $("#signinUsername").val(),
                        password: $("#signinPassword").val() 
                    };


            // firebaesに登録する
            const newPostRef = push(dbRefUsers);
            set(newPostRef, profile);

            // login中のid名をLSに保存する
            localStorage.setItem("login", $("#signinUsername").val());

          // モーダルウィンドウを消す
        }
      })
    
    // ログアウトボタンに関する処理
    // ログアウトボタンを押すと、LSのloginの値を空にして、ログインページに遷移する
    $(document).on("click","#logoutbtn", function(){
        localStorage.setItem("login","");
        window.location.href = "./index.html" ;
    })



    // editを押したとき、createDiagram.htmlへ遷移する
    $(document).on("click","#editbtn", function(){

      // ダイアグラムIDを取得し、格納する
      let diagramId = $(this).attr("name");

      // ダイアグラムIDをLSに保存
      localStorage.setItem("diagramId", diagramId);

      // createDiagram.htmlへ遷移する
      window.location.href = "./createDiagram.html";
      console.log("aaa");
    })

    // Viewを押したとき、
    $(document).on("click","#viewbtn", function(){

      // ダイアグラムIDを取得し、格納する
      let diagramId = $(this).attr("name");
      console.log(diagramId)

      // ダイアグラムIDをLSに保存
      localStorage.setItem("diagramId", diagramId);

      // readDiagram.htmlへ遷移する
      window.location.href = "./readDiagram.html";
    })

</script>

<!-- firebase end -->


<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


</html>
